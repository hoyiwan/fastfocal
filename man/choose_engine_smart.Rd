% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/engine_choice.R
\name{choose_engine_smart}
\alias{choose_engine_smart}
\title{Choose engine with FFT-friendliness awareness}
\usage{
choose_engine_smart(
  x,
  d,
  w = "circle",
  fun = "mean",
  min_pixels_fft = 5e+06,
  min_kernel_fft = 81,
  max_pad_inflate = 1.25
)
}
\arguments{
\item{x}{SpatRaster.}

\item{d}{Numeric. Window radius/size in map units.}

\item{w}{Character. Window type.}

\item{fun}{Character. Summary function.}

\item{min_pixels_fft}{Numeric. Minimum (n+k-1)*(m+k-1) area to consider FFT.}

\item{min_kernel_fft}{Numeric. Minimum kernel area to consider FFT.}

\item{max_pad_inflate}{Numeric. Max allowed area inflation from padding
(e.g., 1.25 allows up to +25\%).}
}
\value{
\code{"fft"} or \code{"cpp"}.
}
\description{
Heuristic that selects \code{"fft"} only when the target linear convolution
size is large enough and the implied FFT padding is "friendly" (next 5-smooth
sizes do not inflate area too much). Otherwise selects \code{"cpp"}.
}
\keyword{internal}
